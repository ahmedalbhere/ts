<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>TS - Ultra Fast Shorts</title>

<style>
    :root {
        --bg:#000;
        --text:#fff;
    }
    body {
        margin:0;
        background:var(--bg);
        color:var(--text);
        overflow:hidden;
        height:100vh;
        font-family: Arial;
    }

    #videoPlayer {
        width:100%;
        height:100vh;
        border:none;
    }

    header {
        position:fixed;
        top:0;left:0;right:0;
        padding:10px 15px;
        font-size:20px;
        color:#0f9dff;
        z-index:100;
    }
</style>
</head>

<body>

<header>TS</header>

<iframe id="videoPlayer" allowfullscreen></iframe>

<script>
let videos = [];
let index = 0;

// تحميل سريع بدون إعلانات
async function loadVideos(){
    const rssURL =
      "https://api.codetabs.com/v1/proxy/?quest=https://www.youtube.com/feeds/videos.xml?playlist_id=PLrEnWoR732-BHrPp_Pm8_VleD68f9s14-";
    
    let res = await fetch(rssURL);
    let xml = await res.text();

    let parser = new DOMParser();
    let data = parser.parseFromString(xml,"text/xml");

    let entries = data.getElementsByTagName("entry");

    for(let i=0;i<entries.length;i++){
        let link = entries[i].getElementsByTagName("link")[0].getAttribute("href");
        videos.push(link.replace("watch?v=","embed/"));
    }

    document.getElementById("videoPlayer").src = videos[0];
}

// سحب مثل تيك توك — سريع جدًا
let startY = 0;

document.addEventListener("touchstart", e => {
  startY = e.touches[0].clientY;
});

document.addEventListener("touchend", e => {
  let endY = e.changedTouches[0].clientY;

  if(startY - endY > 50){
    nextVideo();
  }
  if(endY - startY > 50){
    prevVideo();
  }
});

function nextVideo(){
    if(index < videos.length - 1){
        index++;
        document.getElementById("videoPlayer").src = videos[index];
    }
}

function prevVideo(){
    if(index > 0){
        index--;
        document.getElementById("videoPlayer").src = videos[index];
    }
}

loadVideos();
</script>

</body>
</html>
